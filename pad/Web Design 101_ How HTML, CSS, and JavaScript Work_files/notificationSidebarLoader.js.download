"use strict";"use es6";!function(){var o=["localhost","local.hubspotqa.com","local.hubspot.com","app.hubspotqa.com","app.hubspot.com","hubspotqa.com","hubspot.com"],e=document&&document.domain?document.domain.toLowerCase():"";if(e){var n=o.indexOf(e)>=0;window.hubspot=window.hubspot||{};window.hubspot.notifications=window.hubspot.notifications||{};if(n){var t=window.hubspot.notifications.dev||window.localStorage&&window.localStorage.NOTIFICATION_SIDEBAR_DEV,i=e.indexOf("qa")>=0?"qa":"",a=!t&&e.indexOf("qa")>=0?"-qa":"",s=h(),c="//"+(t?"local":"app")+".hubspot"+i+".com/notification-sidebar/"+s,d="//"+(t?"local":"static")+".hsappstatic.net/notification-sidebar/"+(t?"static/sass":"ex/css")+"/notificationSidebarBundle"+a+".css",r=function(o,e,n){o&&(n?o.classList.add(e):o.classList.remove(e))},u="notification-sidebar-container",l=function(o){var e=void 0;if(o){e='<iframe id="notification-sidebar-iframe" src="'+c+"whats-new/"+(!0===o?"":o)+'" scrolling="no"></iframe>'}else e='<iframe id="notification-sidebar-iframe" src="'+c+'" scrolling="no"></iframe>';var n=document.createElement("div");n.className=u;n.innerHTML=e;return n},f=function(){r(document.body,"notification-sidebar-opened",!1);var o=document.getElementsByClassName(u);o.length>0&&document.body.removeChild(o[0])},m=function(o){if(window.hubspot.portal&&window.hubspot.portal.id){r(document.body,"notification-sidebar-opened",!0);document.body.appendChild(l(o))}},p=function(o){var e=void 0;try{e=JSON.parse(o.data)}catch(e){t&&console&&console.log("Notification sidebar received an unparsable postMessage:",e,o);return}if(e.name)switch(e.name){case"notification-sidebar:close":f();return;case"notification-sidebar:open":m(e.productUpdateId);return;default:t&&console&&console.log("Notification sidebar received postMessage with no handler:",e);return}},b=function(){var o=document.head||document.body,e=document.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=d;o.appendChild(e);window.hubspot.notifications.openSidebar=m;window.addEventListener&&window.addEventListener("message",p)};(function(){"loading"!==document.readyState?b():document.addEventListener("DOMContentLoaded",function(){b()})})()}}function h(){var o=/^\/(?:[A-Za-z0-9-_]*)\/(\d+)(?:\/|$)/.exec(document.location.pathname);return o&&o.length>1?o[1]:""}}();

//# sourceMappingURL=notificationSidebarLoader.js.map